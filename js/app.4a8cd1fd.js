(function(e){function t(t){for(var a,i,o=t[0],d=t[1],l=t[2],u=0,p=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a]);c&&c(t);while(p.length)p.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,i=1;i<n.length;i++){var d=n[i];0!==r[d]&&(a=!1)}a&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={app:0},s=[];function i(e){return o.p+"js/"+({about:"about"}[e]||e)+"."+{about:"4f5bae19"}[e]+".js"}function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,a){n=r[e]=[t,a]}));t.push(n[2]=a);var s,d=document.createElement("script");d.charset="utf-8",d.timeout=120,o.nc&&d.setAttribute("nonce",o.nc),d.src=i(e);var l=new Error;s=function(t){d.onerror=d.onload=null,clearTimeout(u);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+a+": "+s+")",l.name="ChunkLoadError",l.type=a,l.request=s,n[1](l)}r[e]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:d})}),12e4);d.onerror=d.onload=s,document.head.appendChild(d)}return Promise.all(t)},o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/dgtek-geoscape/",o.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],l=d.push.bind(d);d.push=t,d=d.slice();for(var u=0;u<d.length;u++)t(d[u]);var c=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("85ec"),r=n.n(a);r.a},4283:function(e,t,n){},"4dea":function(e,t,n){"use strict";var a=n("4283"),r=n.n(a);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("a026"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[a("div",{staticClass:"d-flex align-center"},[a("v-img",{staticClass:"shrink mr-2",attrs:{alt:"DGtek Logo",contain:"",src:n("cf05"),transition:"scale-transition",width:"50"}})],1),a("v-spacer"),a("v-btn",{attrs:{href:"https://dgtek.net",target:"_blank",text:""}},[a("span",{staticClass:"mr-2"},[e._v("DGtek")]),a("v-icon",[e._v("mdi-open-in-new")])],1)],1),a("v-main",[a("router-view")],1)],1)},s=[],i=(n("69d7"),{name:"App",components:{},data:function(){return{}}}),o=i,d=(n("034f"),n("2877")),l=n("6544"),u=n.n(l),c=n("7496"),p=n("40dc"),f=n("8336"),g=n("132d"),h=n("adda"),v=n("f6c4"),m=n("2fa4"),b=Object(d["a"])(o,r,s,!1,null,null,null),x=b.exports;u()(b,{VApp:c["a"],VAppBar:p["a"],VBtn:f["a"],VIcon:g["a"],VImg:h["a"],VMain:v["a"],VSpacer:m["a"]});var y=n("9483");Object(y["a"])("".concat("/dgtek-geoscape/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("d3b7");var _=n("8c4f"),w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"homefone"},[n("SplitAddressInput",{attrs:{id:e.addressId,value:e.address},on:{"update:id":function(t){e.addressId=t},"update:value":function(t){e.address=t}}}),n("v-row",[n("v-col",{attrs:{cols:"12",md:"6"}},[e.addressId?n("v-expansion-panels",[n("v-expansion-panel",[n("v-expansion-panel-header",[e._v(" Address details ")]),n("v-expansion-panel-content",[e.addressId?n("AddressDetails",{attrs:{addressId:e.addressId,relatedBuildingIds:e.relatedBuildingIds},on:{"update:relatedBuildingIds":function(t){e.relatedBuildingIds=t},"update:related-building-ids":function(t){e.relatedBuildingIds=t}}}):e._e()],1)],1)],1):e._e()],1),n("v-col",{attrs:{cols:"12",md:"6"}},[e.relatedBuildingIds.length>0?n("v-expansion-panels",e._l(e.relatedBuildingIds,(function(t,a){return n("v-expansion-panel",{key:a},[n("v-expansion-panel-header",[e._v(" "+e._s(t)+" ")]),n("v-expansion-panel-content",[n("ShowBuilding",{attrs:{buildingId:t}})],1)],1)})),1):e._e()],1)],1)],1)},D=[],C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",{staticClass:"text-center"},[n("v-col",{staticClass:"my-5",attrs:{cols:"12"}},[n("h2",{staticClass:"headline font-weight-bold mb-3"},[e._v("Check address")]),n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"12",sm:"8",md:"6",lg:"4"}},[n("v-text-field",{staticClass:"mx-4",attrs:{label:"Building number",flat:"",width:"320",outlined:""},model:{value:e.buildingNumber,callback:function(t){e.buildingNumber=t},expression:"buildingNumber"}}),n("v-text-field",{staticClass:"mx-4",attrs:{label:"Name of street, avenue, road, parade ...",flat:"",width:"320",outlined:""},model:{value:e.nameOfStreet,callback:function(t){e.nameOfStreet=t},expression:"nameOfStreet"}}),n("v-btn",{attrs:{disabled:!e.buildingNumber||e.nameOfStreet.length<e.minimumLengthOfAStreetName},on:{click:e.searchHandler}},[e._v("Search")]),e.loading?n("div",[e._v("Loader")]):e._e(),!e.loading&&e.variants.length>0&&null===e.selectedAddressIndex?n("div",[n("v-list",{attrs:{flat:""}},[n("v-subheader",{staticClass:"justify-center"},[n("span",[e._v("Choose the option that suits you or change your request.")])]),n("v-list-item-group",{attrs:{color:"primary",height:"500px"},model:{value:e.selectedAddressIndex,callback:function(t){e.selectedAddressIndex=t},expression:"selectedAddressIndex"}},[n("v-virtual-scroll",{attrs:{bench:e.benched,items:e.variants,height:"300","item-height":"64"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.item;return[n("v-list-item",{key:a.id},[n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:e._s(a.address)}})],1)],1),n("v-divider")]}}],null,!1,2496627038)})],1)],1)],1):e._e(),null!==e.selectedAddressIndex?n("div",[n("h3",[e._v("Selected address:")]),n("p",[e._v(e._s(e.variants[e.selectedAddressIndex].address))])]):e._e()],1)],1),e.google||e.formula?n("v-row",{attrs:{justify:"center"}},[n("v-card",{staticClass:"transparent mx-auto",attrs:{flat:""}},[n("h6",[e._v("Distance from: [-37.87013628, 144.963058]")]),n("h6",[e._v(" Google: "),n("span",[e._v(e._s(e.google))])]),n("h6",[e._v(" Formula: "),n("span",[e._v(e._s(e.formula))])])])],1):e._e()],1)],1)},I=[],k=(n("99af"),n("96cf"),n("1da1")),A={name:"SplitAddressInput",props:["id","value"],data:function(){return{buildingNumber:"",nameOfStreet:"",minimumLengthOfAStreetName:4,variants:[],loading:!1,selectedAddressIndex:null,google:"",formula:""}},computed:{},watch:{buildingNumber:function(){this.clear()},nameOfStreet:function(){this.clear()},selectedAddressIndex:function(e){var t=this;null!==e&&(this.$emit("update:id",this.variants[e].id),this.$emit("update:value",this.variants[e].address),this.getCoordinates(this.variants[e].id).then((function(e){var n={lat:-37.87013628,lng:144.963058};t.google=Math.round(t.getDistance(new t.LatLng(e.lat,e.lng),new t.LatLng(n.lat,n.lng))),t.formula=t.calcDistance(e,n)})))}},methods:{clear:function(){this.variants=[],this.selectedAddressIndex=null,this.google="",this.formula="",this.$emit("update:id",""),this.$emit("update:value","")},searchHandler:function(){this.getVariants("".concat(this.buildingNumber," ").concat(this.nameOfStreet,", MELBOURNE"))},getCoordinates:function(e){return Object(k["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.psma.com.au/v1/addresses/".concat(e,"/geo"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"JQj5hS4OFWNvp0JQ58DDDKzKLCAoqpA0"}});case 2:return t.next=4,t.sent.json();case 4:return n=t.sent,a=n.geo.geometry.coordinates,t.abrupt("return",{lat:a[1],lng:a[0]});case 7:case"end":return t.stop()}}),t)})))()},getVariants:function(e){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!(e.length<4)){n.next=2;break}return n.abrupt("return");case 2:return t.loading=!0,n.next=5,fetch("https://api.psma.com.au/v1/predictive/address?maxNumberOfResults=20&query=".concat(encodeURIComponent(e),"&stateTerritory=VIC"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"JQj5hS4OFWNvp0JQ58DDDKzKLCAoqpA0"}});case 5:return n.next=7,n.sent.json();case 7:t.variants=n.sent.suggest,t.loading=!1;case 9:case"end":return n.stop()}}),n)})))()}}},V=A,j=(n("4dea"),n("b0af")),O=n("62ad"),E=n("ce7e"),S=n("8860"),F=n("da13"),B=n("5d23"),L=n("1baa"),T=n("0fd9"),R=n("e0c7"),P=n("8654"),N=n("0de5"),M=Object(d["a"])(V,C,I,!1,null,"2e6ee334",null),z=M.exports;u()(M,{VBtn:f["a"],VCard:j["a"],VCol:O["a"],VDivider:E["a"],VList:S["a"],VListItem:F["a"],VListItemContent:B["a"],VListItemGroup:L["a"],VListItemTitle:B["b"],VRow:T["a"],VSubheader:R["a"],VTextField:P["a"],VVirtualScroll:N["a"]});var $=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"transparent",attrs:{flat:""}},[n("v-row",{attrs:{justify:"center"}},[n("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[n("tbody",[e.coordinates?n("tr",[n("td",{staticClass:"text-left"},[e._v("Coordinates")]),n("td",{staticClass:"text-left"},[e._v(e._s(e.coordinates))])]):e._e()])]},proxy:!0}])})],1),n("v-row",{attrs:{justify:"center"}},[n("v-simple-table",{attrs:{dark:""},scopedSlots:e._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",{staticClass:"text-left"},[e._v(" Property ")]),n("th",{staticClass:"text-left"},[e._v(" Value ")])])]),n("tbody",e._l(e.properties,(function(t){return n("tr",{key:t},[e.addressDetails[t]?n("td",{staticClass:"text-left"},[e._v(e._s(t))]):e._e(),e.addressDetails[t]?n("td",{staticClass:"text-left"},[e._v(e._s(e.addressDetails[t]))]):e._e()])})),0)]},proxy:!0}])})],1)],1)},q=[],J=(n("b64b"),{name:"",props:["addressId","relatedBuildingIds"],data:function(){return{properties:[],addressDetails:null,geoDatumCode:"",geoFeature:"",coordinates:[],geometryType:"",buildingIds:[]}},watch:{addressId:function(e){e&&this.getAddressDetails()}},methods:{getAddressDetails:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.psma.com.au/v1/addresses/".concat(e.addressId,"?include=geo,addressDetails"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"JQj5hS4OFWNvp0JQ58DDDKzKLCAoqpA0"}});case 2:return t.next=4,t.sent.json();case 4:n=t.sent,e.addressDetails=n.addressDetails,e.geoDatumCode=n.geo.geoDatumCode,e.geoFeature=n.geo.geoFeature,e.coordinates=n.geo.geometry.coordinates,e.geometryType=n.geo.geometry.type,e.buildingIds=n.relatedBuildingIds,e.$emit("update:relatedBuildingIds",e.buildingIds),e.properties=Object.keys(e.addressDetails);case 13:case"end":return t.stop()}}),t)})))()}},mounted:function(){this.addressId&&this.getAddressDetails()}}),G=J,K=n("1f4f"),Q=Object(d["a"])(G,$,q,!1,null,null,null),H=Q.exports;u()(Q,{VCard:j["a"],VRow:T["a"],VSimpleTable:K["a"]});var W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"transparent",attrs:{flat:""}},[n("v-row",{attrs:{justify:"center"}},[n("v-simple-table",{attrs:{dark:""},scopedSlots:e._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",{staticClass:"text-left"},[e._v(" Property ")]),n("th",{staticClass:"text-left"},[e._v(" Value ")])])]),n("tbody",[e._l(e.properties,(function(t){return n("tr",{key:t},[e.buildingData[t]?n("td",{staticClass:"text-left"},[e._v(e._s(t))]):e._e(),e.buildingData[t]?n("td",{staticClass:"text-left"},[e._v(e._s(e.buildingData[t]))]):e._e()])})),n("tr",[n("td",{staticClass:"text-left"},[e._v("Footprint 2d")]),n("td",{staticClass:"text-left"},[n("v-expansion-panels",[n("v-expansion-panel",[n("v-expansion-panel-header",[e._v(" Coordinates ")]),e._l(e.footprint2dCoordinates,(function(t,a){return n("v-expansion-panel-content",{key:a},[e._v(" "+e._s(t)+" ")])}))],2)],1)],1)])],2)]},proxy:!0}])})],1)],1)},U=[],X={name:"",props:["buildingId"],data:function(){return{buildingData:{},links:{},footprint2dCoordinates:[]}},computed:{properties:function(){return Object.keys(this.buildingData)}},watch:{buildingId:function(e){e&&this.getBuildingDataById(e)}},methods:{getBuildingDataById:function(e){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.psma.com.au/v1/buildings/".concat(t.buildingId,"?include=centroid,footprint2d,elevation,area,zonings,estimatedLevels"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"JQj5hS4OFWNvp0JQ58DDDKzKLCAoqpA0"}});case 2:return e.next=4,e.sent.json();case 4:t.buildingData=e.sent,t.buildingData.centroidCoordinates=t.buildingData.centroid.point.coordinates,delete t.buildingData.centroid,t.buildingData.zonings=t.buildingData.zonings[0],t.footprint2dCoordinates=t.buildingData.footprint2d.coordinates[0][0],delete t.buildingData.footprint2d,t.links=t.buildingData.links,delete t.buildingData.links,delete t.buildingData.messages,delete t.buildingData.buildingId,delete t.buildingData.relatedAddressIds;case 15:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.buildingId&&this.getBuildingDataById(this.buildingId)}},Y=X,Z=n("cd55"),ee=n("49e2"),te=n("c865"),ne=n("0393"),ae=Object(d["a"])(Y,W,U,!1,null,null,null),re=ae.exports;u()(ae,{VCard:j["a"],VExpansionPanel:Z["a"],VExpansionPanelContent:ee["a"],VExpansionPanelHeader:te["a"],VExpansionPanels:ne["a"],VRow:T["a"],VSimpleTable:K["a"]});var se={name:"Home",components:{SplitAddressInput:z,AddressDetails:H,ShowBuilding:re},data:function(){return{addressId:null,address:"",relatedBuildingIds:[]}},watch:{addressId:function(e){e||(this.relatedBuildingIds=[])},relatedBuildingIds:{deep:!0,immediate:!0,handler:function(e){}}},methods:{}},ie=se,oe=n("a523"),de=Object(d["a"])(ie,w,D,!1,null,null,null),le=de.exports;u()(de,{VCol:O["a"],VContainer:oe["a"],VExpansionPanel:Z["a"],VExpansionPanelContent:ee["a"],VExpansionPanelHeader:te["a"],VExpansionPanels:ne["a"],VRow:T["a"]}),a["a"].use(_["a"]);var ue=[{path:"/",name:"Home",component:le},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],ce=new _["a"]({mode:"history",base:"/dgtek-geoscape/",routes:ue}),pe=ce,fe=n("2f62");a["a"].use(fe["a"]);var ge=new fe["a"].Store({state:{},mutations:{},actions:{},modules:{}}),he=n("f309");a["a"].use(he["a"]);var ve=new he["a"]({icons:{iconfont:"mdi",values:{expand:"mdi-chevron-down",valid:"mdi-check-bold",invalid:"mdi-alert-outline"}},theme:{themes:{light:{primary:"#83332C",secondary:"#E15240",buttons:"#E15240",homefone:"#FBFBFB",inputs:"#EFEFEF",activefield:"#D9D9D9",warning:"#FAFF00"},dark:{primary:"#FF0E00",secondary:"#E82F37",buttons:"#F54436",homefone:"#FEFEFE",fields:"#EFEFEF",activefield:"#D9D9D9",warning:"#FAFF00"}}}});n("4d86"),n("cb36");a["a"].config.productionTip=!1,a["a"].prototype.earthRadius=6378137,a["a"].prototype.convertDegToRad=function(e){return e*(Math.PI/180)},a["a"].prototype.calcDistance=function(e,t){var n={lat:this.convertDegToRad(t.lat-e.lat),lng:this.convertDegToRad(t.lng-e.lng)},a=Math.pow(Math.sin(n.lat/2),2)+Math.cos(this.convertDegToRad(e.lat)/2)*Math.cos(this.convertDegToRad(t.lat)/2)*Math.pow(Math.sin(n.lng/2),2),r=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return Math.round(this.earthRadius*r)},a["a"].prototype.getDistance=window.google.maps.geometry.spherical.computeDistanceBetween,a["a"].prototype.LatLng=window.google.maps.LatLng,new a["a"]({router:pe,store:ge,vuetify:ve,render:function(e){return e(x)}}).$mount("#app")},"85ec":function(e,t,n){},cf05:function(e,t,n){e.exports=n.p+"img/logo.484e8bd1.png"}});